[gd_scene load_steps=39 format=2]

[ext_resource path="res://Enemies/BasicEnemy.tscn" type="PackedScene" id=1]
[ext_resource path="res://Enemies/rollerEnemy_front.png" type="Texture" id=3]
[ext_resource path="res://Enemies/rollerEnemy_back.png" type="Texture" id=4]
[ext_resource path="res://Enemies/rollerEnemy_side.png" type="Texture" id=5]
[ext_resource path="res://Enemies/KogEnemy.cs" type="Script" id=6]
[ext_resource path="res://Enemies/KogBullet.tscn" type="PackedScene" id=7]
[ext_resource path="res://Enemies/KogProjc.tscn" type="PackedScene" id=8]
[ext_resource path="res://Enemies/TargetMark.tscn" type="PackedScene" id=9]

[sub_resource type="Shader" id=39]
code = "shader_type canvas_item;

uniform float white_progress : hint_range(0,1) = 0;

vec3 interpolate_vec3(vec3 start, vec3 end, float delta){
    return start + (end - start) * delta;
}

void fragment(){
    vec4 origin = texture(TEXTURE, UV);
    COLOR.rgb = interpolate_vec3(origin.rgb, vec3(1,0,0), white_progress);
    COLOR.a = origin.a;
}"

[sub_resource type="ShaderMaterial" id=40]
resource_local_to_scene = true
shader = SubResource( 39 )
shader_param/white_progress = 0.0

[sub_resource type="AtlasTexture" id=88]
region = Rect2( 0, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=89]
region = Rect2( 47, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=90]
region = Rect2( 94, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=91]
region = Rect2( 141, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=92]
region = Rect2( 188, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=93]
region = Rect2( 235, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=94]
region = Rect2( 282, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=95]
region = Rect2( 329, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=96]
region = Rect2( 376, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=97]
region = Rect2( 423, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=98]
region = Rect2( 470, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=99]
region = Rect2( 517, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=100]
region = Rect2( 564, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=101]
region = Rect2( 611, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=102]
region = Rect2( 658, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=103]
region = Rect2( 705, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=104]
region = Rect2( 752, 0, 47, 473 )

[sub_resource type="AtlasTexture" id=60]
atlas = ExtResource( 4 )
region = Rect2( 0, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=61]
atlas = ExtResource( 4 )
region = Rect2( 47, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=62]
atlas = ExtResource( 4 )
region = Rect2( 94, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=63]
atlas = ExtResource( 3 )
region = Rect2( 0, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=64]
atlas = ExtResource( 3 )
region = Rect2( 47, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=65]
atlas = ExtResource( 3 )
region = Rect2( 94, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=66]
atlas = ExtResource( 5 )
region = Rect2( 0, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=67]
atlas = ExtResource( 5 )
region = Rect2( 47, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=68]
atlas = ExtResource( 5 )
region = Rect2( 94, 0, 47, 54 )

[sub_resource type="AtlasTexture" id=69]
atlas = ExtResource( 5 )
region = Rect2( 141, 0, 47, 54 )

[sub_resource type="SpriteFrames" id=59]
animations = [ {
"frames": [ SubResource( 88 ), SubResource( 89 ), SubResource( 90 ), SubResource( 91 ), SubResource( 92 ), SubResource( 93 ), SubResource( 94 ), SubResource( 95 ), SubResource( 96 ), SubResource( 97 ), SubResource( 98 ), SubResource( 99 ), SubResource( 100 ), SubResource( 101 ), SubResource( 102 ), SubResource( 103 ), SubResource( 104 ) ],
"loop": false,
"name": "KogShot",
"speed": 10.0
}, {
"frames": [ SubResource( 60 ), SubResource( 61 ), SubResource( 62 ) ],
"loop": true,
"name": "back",
"speed": 5.0
}, {
"frames": [ SubResource( 63 ), SubResource( 64 ), SubResource( 65 ) ],
"loop": true,
"name": "front",
"speed": 5.0
}, {
"frames": [ SubResource( 66 ), SubResource( 67 ), SubResource( 68 ), SubResource( 69 ) ],
"loop": true,
"name": "side",
"speed": 5.01
} ]

[node name="KogEnemy" instance=ExtResource( 1 )]
position = Vector2( 0, 16.6157 )
script = ExtResource( 6 )
EnemyProjectile = ExtResource( 7 )
_Shooting = false
KogProjectile = ExtResource( 8 )
TargetMark = ExtResource( 9 )

[node name="SpriteParent" parent="." index="1"]
material = SubResource( 40 )

[node name="EnemySprite" parent="SpriteParent" index="0"]
position = Vector2( 0, 0 )
frames = SubResource( 59 )
animation = "KogShot"
frame = 16

[node name="AttackTimer" parent="." index="4"]
wait_time = 3.0

[node name="Particles2D" parent="." index="9"]
position = Vector2( 0, -24.6157 )

[node name="_AniTimer" type="Timer" parent="." index="10"]
one_shot = true
